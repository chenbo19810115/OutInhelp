webpackJsonp([2],{515:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e(612),o=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(i,t,function(){return n[t]})}(r);var a=e(647),s=e.n(a),d=e(21),u=d(o.a,s.a,!1,null,null,null);u.options.__file="src\\views\\touzishouyimgn\\touzishouyimgn.vue",i.default=u.exports},577:function(t,i,e){var n=e(135),o=e(202),r=e(203),a=e(51),s=e(136),d=e(140),u={},l={},i=t.exports=function(t,i,e,c,h){var f,p,v,y,m=h?function(){return t}:d(t),g=n(e,c,i?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(r(m)){for(f=s(t.length);f>_;_++)if((y=i?g(a(p=t[_])[0],p[1]):g(t[_]))===u||y===l)return y}else for(v=m.call(t);!(p=v.next()).done;)if((y=o(v,g,p.value,i))===u||y===l)return y};i.BREAK=u,i.RETURN=l},578:function(t,i,e){var n=e(50);t.exports=function(t,i,e){for(var o in i)e&&t[o]?t[o]=i[o]:n(t,o,i[o]);return t}},579:function(t,i){t.exports=function(t,i,e,n){if(!(t instanceof i)||void 0!==n&&n in t)throw TypeError(e+": incorrect invocation!");return t}},580:function(t,i,e){var n=e(58);t.exports=function(t,i){if(!n(t)||t._t!==i)throw TypeError("Incompatible receiver, "+i+" required!");return t}},581:function(t,i,e){t.exports={default:e(582),__esModule:!0}},582:function(t,i,e){e(207),e(90),e(141),e(583),e(590),e(593),e(595),t.exports=e(31).Map},583:function(t,i,e){"use strict";var n=e(584),o=e(580);t.exports=e(586)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var i=n.getEntry(o(this,"Map"),t);return i&&i.v},set:function(t,i){return n.def(o(this,"Map"),0===t?0:t,i)}},n,!0)},584:function(t,i,e){"use strict";var n=e(36).f,o=e(138),r=e(578),a=e(135),s=e(579),d=e(577),u=e(137),l=e(205),c=e(585),h=e(49),f=e(200).fastKey,p=e(580),v=h?"_s":"size",y=function(t,i){var e,n=f(i);if("F"!==n)return t._i[n];for(e=t._f;e;e=e.n)if(e.k==i)return e};t.exports={getConstructor:function(t,i,e,u){var l=t(function(t,n){s(t,l,i,"_i"),t._t=i,t._i=o(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=n&&d(n,e,t[u],t)});return r(l.prototype,{clear:function(){for(var t=p(this,i),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var e=p(this,i),n=y(e,t);if(n){var o=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),e._f==n&&(e._f=o),e._l==n&&(e._l=r),e[v]--}return!!n},forEach:function(t){p(this,i);for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(p(this,i),t)}}),h&&n(l.prototype,"size",{get:function(){return p(this,i)[v]}}),l},def:function(t,i,e){var n,o,r=y(t,i);return r?r.v=e:(t._l=r={i:o=f(i,!0),k:i,v:e,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[v]++,"F"!==o&&(t._i[o]=r)),t},getEntry:y,setStrong:function(t,i,e){u(t,i,function(t,e){this._t=p(t,i),this._k=e,this._l=void 0},function(){for(var t=this,i=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?"keys"==i?l(0,e.k):"values"==i?l(0,e.v):l(0,[e.k,e.v]):(t._t=void 0,l(1))},e?"entries":"values",!e,!0),c(i)}}},585:function(t,i,e){"use strict";var n=e(32),o=e(31),r=e(36),a=e(49),s=e(22)("species");t.exports=function(t){var i="function"==typeof o[t]?o[t]:n[t];a&&i&&!i[s]&&r.f(i,s,{configurable:!0,get:function(){return this}})}},586:function(t,i,e){"use strict";var n=e(32),o=e(70),r=e(200),a=e(62),s=e(50),d=e(578),u=e(577),l=e(579),c=e(58),h=e(91),f=e(36).f,p=e(587)(0),v=e(49);t.exports=function(t,i,e,y,m,g){var _=n[t],z=_,b=m?"set":"add",x=z&&z.prototype,w={};return v&&"function"==typeof z&&(g||x.forEach&&!a(function(){(new z).entries().next()}))?(z=i(function(i,e){l(i,z,t,"_c"),i._c=new _,void 0!=e&&u(e,m,i[b],i)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var i="add"==t||"set"==t;t in x&&(!g||"clear"!=t)&&s(z.prototype,t,function(e,n){if(l(this,z,t),!i&&g&&!c(e))return"get"==t&&void 0;var o=this._c[t](0===e?0:e,n);return i?this:o})}),g||f(z.prototype,"size",{get:function(){return this._c.size}})):(z=y.getConstructor(i,t,m,b),d(z.prototype,e),r.NEED=!0),h(z,t),w[t]=z,o(o.G+o.W+o.F,w),g||y.setStrong(z,t,m),z}},587:function(t,i,e){var n=e(135),o=e(139),r=e(92),a=e(136),s=e(588);t.exports=function(t,i){var e=1==t,d=2==t,u=3==t,l=4==t,c=6==t,h=5==t||c,f=i||s;return function(i,s,p){for(var v,y,m=r(i),g=o(m),_=n(s,p,3),z=a(g.length),b=0,x=e?f(i,z):d?f(i,0):void 0;z>b;b++)if((h||b in g)&&(v=g[b],y=_(v,b,m),t))if(e)x[b]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:x.push(v)}else if(l)return!1;return c?-1:u||l?l:x}}},588:function(t,i,e){var n=e(589);t.exports=function(t,i){return new(n(t))(i)}},589:function(t,i,e){var n=e(58),o=e(206),r=e(22)("species");t.exports=function(t){var i;return o(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)||(i=void 0),n(i)&&null===(i=i[r])&&(i=void 0)),void 0===i?Array:i}},590:function(t,i,e){var n=e(70);n(n.P+n.R,"Map",{toJSON:e(591)("Map")})},591:function(t,i,e){var n=e(204),o=e(592);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},592:function(t,i,e){var n=e(577);t.exports=function(t,i){var e=[];return n(t,!1,e.push,e,i),e}},593:function(t,i,e){e(594)("Map")},594:function(t,i,e){"use strict";var n=e(70);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,i=new Array(t);t--;)i[t]=arguments[t];return new this(i)}})}},595:function(t,i,e){e(596)("Map")},596:function(t,i,e){"use strict";var n=e(70),o=e(201),r=e(135),a=e(577);t.exports=function(t){n(n.S,t,{from:function(t){var i,e,n,s,d=arguments[1];return o(this),i=void 0!==d,i&&o(d),void 0==t?new this:(e=[],i?(n=0,s=r(d,arguments[2],2),a(t,!1,function(t){e.push(s(t,n++))})):a(t,!1,e.push,e),new this(e))}})}},612:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var o=e(581),r=n(o),a=e(63),s=n(a),d=e(199);i.default={data:function(){var t=this,i=function(t,i,e){var n={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "};if(/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/.test(i)){if(n[i.substr(0,2)]){if(18==i.length){i=i.split("");for(var o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=[1,0,"X",9,8,7,6,5,4,3,2],a=0,s=0,d=0,u=0;u<17;u++)s=i[u],d=o[u],a+=s*d;return r[a%11]!=i[17]?void e(new Error("请输入真实身份证号")):void e()}return void e(new Error("请输入真实身份证号"))}return void e(new Error("请输入真实身份证号"))}return void e(new Error("请输入真实身份证号"))},e=function(t,i,e){return/^(\+)?\d+(\.\d+)?$/.test(i)?void e():void e(new Error("请输入正确的金额"))};return{columns:[{title:"身份证",key:"id",width:200},{title:"记账日期",key:"jizhangriqi",width:100},{title:"总投资",key:"zongtouzie",width:100},{title:"当天收益",key:"shouyie",width:100},{title:"总收益",key:"zongshouyie",width:100},{title:"年化收益率",key:"nianhuashouyilv",width:150},{title:"操作",key:"action",align:"left",render:function(i,e){return i("div",[i("Button",{style:{margin:"0 5px"},props:{type:"error",size:"small"},on:{click:function(){t.deleteTouzi(e.index)}}},"删除"),i("Button",{style:{margin:"0 5px"},props:{type:"success",size:"small"},on:{click:function(){t.$router.push({name:"touzishouyixiangdan_index",query:{userid:e.row.id}})}}},"记账详单")])}}],addForm:{jizhangid:"",jizhangriqi:"",id:"",xinzengtouzie:"",touzitianshu:"",tixiane:"",shouyie:""},pLAddForm:{jizhangriqi:"",shouyie:""},save_touzishouyi_loading:!1,searchConName:"",data:[],initTable:[],bShowXinzeng:!1,add_loading:!1,datamap:null,bSerache:!1,bShowPLXinzengShouyi:!1,addPL_loading:!1,addFormValidate:{id:[{required:!0,message:"请输入正确身份证号",trigger:"blur"},{validator:i}],jizhangriqi:[],xinzengtouzie:[{required:!0,message:"请输入正确的金额",trigger:"blur"},{validator:e}],tixiane:[{required:!0,message:"请输入正确的金额",trigger:"blur"},{validator:e}],shouyie:[{required:!0,message:"请输入正确的金额",trigger:"blur"},{validator:e}]}}},methods:{init:function(){this.bShowXinzeng=!1,this.add_loading=!1,this.datamap=new r.default,this.bSerache=!1,this.save_touzishouyi_loading=!1},search:function(t,i){var e=this,n=t,o=t,r=0;for(var a in i)!function(t){i[t].length>0&&(n=o.filter(function(n,o){var a=n[t].indexOf(i[t])>-1;return a&&(e.datamap[r]=o,r+=1),a}),o=n,e.bSerache=!0)}(a);return n},handleSearch:function(){this.data=this.initTable,this.data=this.search(this.data,{id:this.searchConName})},handleCancel:function(){this.data=this.initTable,this.searchConName="",this.bSerache=!1},handleAdd:function(){this.bShowXinzeng=!0,this.addForm.id=this.searchConName,this.addForm.xinzengtouzie="0",this.addForm.touzitianshu="0",this.addForm.tixiane="0",this.addForm.shouyie="0"},cancelAddjizhang:function(){this.add_loading=!1,this.bShowXinzeng=!1,this.$refs.addForm.resetFields()},addjizhangInfo:function(){var t=this;this.$refs.addForm.validate(function(i){if(i){t.add_loading=!0;var e={id:t.addForm.id,jizhangriqi:s.default.formatDate.format(new Date(t.addForm.jizhangriqi),"yyyy-MM-dd"),xinzengtouzie:t.addForm.xinzengtouzie,touzitianshu:t.addForm.touzitianshu,tixiane:t.addForm.tixiane,shouyie:t.addForm.shouyie};(0,d.AddUserJizhangDayInfo)(e).then(function(i){var n=i.retCode,o=i.msg;500!==n?t.$Message.info({content:o,duration:3,closable:!0}):t.getusertouzishouyisum(e.id),t.$refs.addForm.resetFields(),t.add_loading=!1,t.bShowXinzeng=!1})}})},handlePLAdd:function(){this.bShowPLXinzengShouyi=!0},cancelPLAddShouyi:function(){this.addPL_loading=!1,this.bShowPLXinzengShouyi=!1,this.$refs.pLAddForm.resetFields()},addPLShouyiInfo:function(){var t=this;this.addPL_loading=!0;var i={jizhangriqi:s.default.formatDate.format(new Date(this.pLAddForm.jizhangriqi),"yyyy-MM-dd"),shouyie:this.pLAddForm.shouyie};(0,d.AddPLShouyiInfo)(i).then(function(i){var e=i.retCode,n=i.msg;500!==e?t.$Message.info({content:n,duration:3,closable:!0}):t.getusertouzishouyisum(void 0)}),this.$refs.pLAddForm.resetFields(),this.addPL_loading=!1,this.bShowPLXinzengShouyi=!1},deleteTouzi:function(t){var i=this,e={jizhangid:this.data[t].jizhangid,id:this.data[t].id,jizhangriqi:this.data[t].jizhangriqi};(0,d.DeleteUserSumJizhang)(e).then(function(e){500!==e.retCode?i.$Message.info({content:msg,duration:3,closable:!0}):!1===i.bSerache?i.data.splice(t,1):(i.data.splice(t,1),i.initTable.splice(i.datamap[t],1))})},getusertouzishouyisum:function(t){var i=this;this.searchConName=void 0!==t?t.toString():"";var e={id:t};this.save_touzishouyi_loading=!0,(0,d.GetJizhangSumInfo)(e).then(function(t){var e=t.retCode,n=t.msg,o=t.userjizhanginfo;500!==e?i.$Message.info({content:n,duration:3,closable:!0}):(i.data=o,i.initTable=o),i.save_touzishouyi_loading=!1})},refreshusertouzishouyi:function(){this.getusertouzishouyisum(void 0)}},mounted:function(){this.init(),this.heightVar=window.innerHeight-this.$refs.touziTable.$el.offsetTop-140;var t=this.$route.query.userid;this.getusertouzishouyisum(t)}}},647:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{span:"24"}},[e("Button",{attrs:{type:"primary",loading:t.save_touzishouyi_loading},on:{click:t.refreshusertouzishouyi}},[t._v("获取最新投资收益账目")])],1)],1),t._v(" "),e("Row",[e("br")]),t._v(" "),e("Row",{attrs:{gutter:10}},[e("Col",{attrs:{span:"24"}},[e("Row",[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入身份证搜搜..."},model:{value:t.searchConName,callback:function(i){t.searchConName=i},expression:"searchConName"}}),t._v(" "),e("span",{staticStyle:{margin:"0 10px"},on:{click:t.handleSearch}},[e("Button",{attrs:{type:"primary",icon:"search"}},[t._v("搜索")])],1),t._v(" "),e("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:t.handleCancel}},[t._v("取消搜索")]),t._v(" "),e("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增记账")]),t._v(" "),e("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:t.handlePLAdd}},[t._v("批量收益记账")])],1),t._v(" "),e("Row",[e("br")]),t._v(" "),e("Table",{ref:"touziTable",attrs:{border:"",columns:t.columns,data:t.data,height:t.heightVar}})],1)],1),t._v(" "),e("Modal",{attrs:{"mask-closable":!1,width:"350"},model:{value:t.bShowXinzeng,callback:function(i){t.bShowXinzeng=i},expression:"bShowXinzeng"}},[e("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[t._v("投资收益记账")]),t._v(" "),e("Form",{ref:"addForm",attrs:{model:t.addForm,"label-width":100,"label-position":"right",rules:t.addFormValidate}},[e("FormItem",{attrs:{label:"投资人：",prop:"id"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{model:{value:t.addForm.id,callback:function(i){t.$set(t.addForm,"id",i)},expression:"addForm.id"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"记账日期：",prop:"jizhangriqi"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("DatePicker",{staticStyle:{width:"150px"},attrs:{format:"yyyy年M月d日",placeholder:"请选择日期"},model:{value:t.addForm.jizhangriqi,callback:function(i){t.$set(t.addForm,"jizhangriqi",i)},expression:"addForm.jizhangriqi"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"新增投资：",prop:"xinzengtouzie"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{attrs:{placeholder:"请输入当日新增投资"},model:{value:t.addForm.xinzengtouzie,callback:function(i){t.$set(t.addForm,"xinzengtouzie",i)},expression:"addForm.xinzengtouzie"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"投资天数：",prop:"touzitianshu"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{attrs:{placeholder:"请输入新增投资天数"},model:{value:t.addForm.touzitianshu,callback:function(i){t.$set(t.addForm,"touzitianshu",i)},expression:"addForm.touzitianshu"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"提现额: ",prop:"tixiane"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{attrs:{placeholder:"请输入当日提现金额"},model:{value:t.addForm.tixiane,callback:function(i){t.$set(t.addForm,"tixiane",i)},expression:"addForm.tixiane"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"收益额: ",prop:"shouyie"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{attrs:{placeholder:"请输入当日收益金额"},model:{value:t.addForm.shouyie,callback:function(i){t.$set(t.addForm,"shouyie",i)},expression:"addForm.shouyie"}})],1)])],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"50px"},attrs:{type:"text"},on:{click:t.cancelAddjizhang}},[t._v("取消")]),t._v(" "),e("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:t.add_loading},on:{click:t.addjizhangInfo}},[t._v("提交")])],1)],1),t._v(" "),e("Modal",{attrs:{"mask-closable":!1,width:"350"},model:{value:t.bShowPLXinzengShouyi,callback:function(i){t.bShowPLXinzengShouyi=i},expression:"bShowPLXinzengShouyi"}},[e("h3",{staticStyle:{color:"#2D8CF0"},attrs:{slot:"header"},slot:"header"},[t._v("批量收益记账")]),t._v(" "),e("Form",{ref:"pLAddForm",attrs:{model:t.pLAddForm,"label-width":100,"label-position":"right"}},[e("FormItem",{attrs:{label:"投资人：",prop:"id"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{attrs:{type:"text",disabled:"true",value:"所有用户"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"记账日期：",prop:"jizhangriqi"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("DatePicker",{staticStyle:{width:"150px"},attrs:{format:"yyyy年M月d日",placeholder:"请选择日期"},model:{value:t.pLAddForm.jizhangriqi,callback:function(i){t.$set(t.pLAddForm,"jizhangriqi",i)},expression:"pLAddForm.jizhangriqi"}})],1)]),t._v(" "),e("FormItem",{attrs:{label:"收益额: ",prop:"shouyie"}},[e("div",{staticStyle:{display:"inline-block",width:"150px"}},[e("Input",{attrs:{placeholder:"请输入当日收益金额"},model:{value:t.pLAddForm.shouyie,callback:function(i){t.$set(t.pLAddForm,"shouyie",i)},expression:"pLAddForm.shouyie"}})],1)])],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{staticStyle:{width:"50px"},attrs:{type:"text"},on:{click:t.cancelPLAddShouyi}},[t._v("取消")]),t._v(" "),e("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:t.addPL_loading},on:{click:t.addPLShouyiInfo}},[t._v("提交")])],1)],1)],1)},o=[];n._withStripped=!0;var r={render:n,staticRenderFns:o};i.default=r}});